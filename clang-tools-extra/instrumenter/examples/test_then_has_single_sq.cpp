// #define X a + sq

void is_attacked(int a) {
    int sq;
    if (true || true)
        // This works.
        a = sq;
    else
        if (sq)
            a = a + sq; 
        else 
            a = a + sq;

}